function createMyDrawer(e){nappDrawer=NappDrawerModule.createDrawer({fullscreen:!0,leftWindow:e,centerWindow:createCenterNavWindow(),openDrawerGestureMode:NappDrawerModule.OPEN_MODE_ALL,showShadow:!1,leftDrawerWidth:200,animationMode:NappDrawerModule.ANIMATION_NONE,statusBarStyle:NappDrawerModule.STATUSBAR_WHITE,orientationModes:[Ti.UI.PORTRAIT,Ti.UI.UPSIDE_PORTRAIT]}),"iphone"==Ti.Platform.osname&&nappDrawer.setCloseDrawerGestureMode(NappDrawerModule.CLOSE_MODE_ALL),nappDrawer.addEventListener("windowDidOpen",function(){drawerFlag=1}),nappDrawer.addEventListener("windowDidClose",function(){drawerFlag=0}),nappDrawer.addEventListener("android:back",function(){var e=Ti.App.Properties.getString("module");if(""!=e)Ti.App.Properties.setString("module",""),navigation(e,1);else if(1==drawerFlag){var t=Ti.UI.createAlertDialog({cancel:1,buttonNames:["Cancel","Confirm"],message:"Would you like to exit EQSport?",title:"Exit app"});t.addEventListener("click",function(e){if(e.index===e.source.cancel,1===e.index){Ti.App.Properties.removeProperty("oddEnabled");var t=Titanium.Android.currentActivity;t.finish()}}),t.show()}else nappDrawer.toggleLeftWindow();return!1})}function refreshMenu(){nappDrawer=null,createMyDrawer(Alloy.createController("menu").getView()),nappDrawer.open()}var NappDrawerModule=require("dk.napp.drawer"),drawerFlag=0,nappDrawer=null,menu_no="1",createCenterNavWindow=function(){var e=Ti.UI.createButton();e.addEventListener("click",function(){nappDrawer.toggleLeftWindow()});var t=openNewNavWindow("home");return t},openNewNavWindow=function(e,t){if(""==t)var i=Alloy.createController(e).getView();else var i=Alloy.createController(e,t).getView();var o,l=Ti.UI.createWindow({navBarHidden:!0});l.add(i);var o=Ti.UI.iOS.createNavigationWindow({window:l});return o},navigation=function(e,t,i){var o=openNewNavWindow(e,i);nappDrawer.setCenterWindow(o),1!=t&&nappDrawer.toggleLeftWindow()};exports.initDrawer=function(){refreshMenu()},exports.navigation=function(e,t,i){navigation(e,t,i)},exports.closeToggle=function(){nappDrawer.toggleLeftWindow()},exports.initMenu=function(){refreshMenu(),navigation("member",1)},exports.isDrawerOpen=function(){return drawerFlag},exports.logout=function(){refreshMenu(),navigation("home",1)};